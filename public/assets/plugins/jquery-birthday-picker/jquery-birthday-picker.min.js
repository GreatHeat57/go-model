$(function(b){var y={number:["01","02","03","04","05","06","07","08","09","10","11","12"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],long:["January","February","March","April","May","June","July","August","September","October","November","December"]},e=new Date,g=e.getFullYear(),D=e.getMonth()+1;e.getDate();updateTheBirthDayValue=function(e,a,t,n,i){t*n*i!=0&&(n<10&&(n="0"+n),i<10&&(i="0"+i),hiddenDate=t+"-"+n+"-"+i,a.val(hiddenDate),e.callback&&e.callback(hiddenDate))},generateBirthdayPicker=function(e,r){var a=e.attr("id").replace(/-/g,""),t=e.attr("data-label");b("#"+a).append("<div class='col-md-12'><label for='birthday' class='position-relative control-label required input-label'>"+t+"</label></div>");var n=b("#"+a).append("<div class='col-4'><div class='md-form input-group "+a+"_day_input' id='"+a+"_birth_day'></div></div>"),i=b("#"+a).append("<div class='col-4'><div class='md-form input-group "+a+"_month_input' id='"+a+"_birth_month'></div></div>"),l=b("#"+a).append("<div class='col-4'><div class='md-form input-group "+a+"_year_input' id='"+a+"_birth_year'></div></div>"),d="<div class='form-input-error-msg'><span class='fa fa-exclamation-circle'></span>This field is required!</div>";b("#"+a).append(n).append(i).append(l);var o=b("<fieldset class='birthdayPicker'></fieldset>"),p=b("<select class='validate birthYear "+r.sizeClass+"' name='"+a+"_birth[year]'></select>"),s=b("<select class='validate birthMonth "+r.sizeClass+"' name='"+a+"_birth[month]'></select>"),c=b("<select class='validate birthDate "+r.sizeClass+"' name='"+a+"_birth[day]'></select>");$birthday=b("<input class='birthDay' name='"+a+"_birthDay' type='hidden'/>"),r.placeholder&&(b("<option class='not-option' value=''>Year</option>").appendTo(p),b("<option class='not-option' value=''>Month</option>").appendTo(s),b("<option class='not-option' value=''>Day</option>").appendTo(c)),"bigEndian"==r.dateFormat?b("."+a):r.dateFormat,b("."+a+"_day_input").append(c).append(d),b("."+a+"_month_input").append(s).append(d),b("."+a+"_year_input").append(p).append(d);var h=g-r.minAge,u=g-r.maxAge;r.maxYear!=g&&r.maxYear>g&&(h=r.maxYear,u+=r.maxYear-g);for(var v=h;u<=v;v--)b("<option></option>").attr("value",v).text(v).appendTo(p);for(v=0;v<=11;v++)b("<option></option>").attr("value",v+1).text(y[r.monthFormat][v]).appendTo(s);for(v=1;v<=31;v++){var m=v<10?"0"+v:v;b("<option></option>").attr("value",v).text(m).appendTo(c)}if(o.append($birthday),e.append(o),r.defaultDate){if("date"!==b.type(r.defaultDate))(f=new Date(r.defaultDate)).setSeconds(f.getSeconds()+60*f.getTimezoneOffset());else var f=r.defaultDate;p.val(f.getFullYear()),s.val(f.getMonth()+1),c.val(f.getDate()),updateTheBirthDayValue(r,$birthday,f.getFullYear(),f.getMonth()+1,f.getDate())}e.on("change",function(){$birthday=b(this).find(".birthDay"),selectedYear=parseInt(p.val(),10),selectedMonth=parseInt(s.val(),10),selectedDay=parseInt(c.val(),10);var e=s.children(":last").val();if(selectedYear>g){if(D<e)for(;D<e;)s.children(":last").remove(),e--}else for(;e<12;)b("<option></option>").attr("value",parseInt(e)+1).text(y[r.monthFormat][e]).appendTo(s),e++;var a=c.children(":last").val(),t=new Date(selectedYear,selectedMonth,0).getDate();if(t<a)for(;t<a;)c.children(":last").remove(),a--;else if(a<t)for(;a<t;){var n=parseInt(a)+1,i=n<10?"0"+n:n;b("<option></option>").attr("value",n).text(i).appendTo(c),a++}updateTheBirthDayValue(r,$birthday,selectedYear,selectedMonth,selectedDay)})},b.fn.birthdayPicker=function(a){return this.each(function(){var e=b.extend(b.fn.birthdayPicker.defaults,a);generateBirthdayPicker(b(this),e)})},b.fn.birthdayPicker.defaults={maxAge:100,minAge:0,maxYear:g,dateFormat:"middleEndian",monthFormat:"number",placeholder:!0,defaultDate:!1,sizeClass:"span2",callback:!1}}(jQuery));