!function(m,i,e){i.footable={options:{delay:100,breakpoints:{phone:480,tablet:1024},parsers:{alpha:function(e){return m(e).data("value")||m.trim(m(e).text())},numeric:function(e){var t=m(e).data("value")||m(e).text().replace(/[^0-9.\-]/g,"");return t=parseFloat(t),isNaN(t)&&(t=0),t}},addRowToggle:!0,calculateWidthOverride:null,toggleSelector:" > tbody > tr:not(.footable-row-detail)",columnDataSelector:"> thead > tr:last-child > th, > thead > tr:last-child > td",detailSeparator:":",toggleHTMLElement:"<span />",createGroupedDetail:function(e){for(var t={_none:{name:null,data:[]}},a=0;a<e.length;a++){var o=e[a].group;null!==o?(o in t||(t[o]={name:e[a].groupName||e[a].group,data:[]}),t[o].data.push(e[a])):t._none.data.push(e[a])}return t},createDetail:function(e,t,a,o,i){var n=a(t);for(var r in n)if(0!==n[r].data.length){"_none"!==r&&e.append('<div class="'+i.detailInnerGroup+'">'+n[r].name+"</div>");for(var l=0;l<n[r].data.length;l++){var d=n[r].data[l].name?o:"";e.append('<div class="'+i.detailInnerRow+'"><div class="'+i.detailInnerName+'">'+n[r].data[l].name+d+'</div><div class="'+i.detailInnerValue+'">'+n[r].data[l].display+"</div></div>")}}},classes:{main:"footable",loading:"footable-loading",loaded:"footable-loaded",toggle:"footable-toggle",disabled:"footable-disabled",detail:"footable-row-detail",detailCell:"footable-row-detail-cell",detailInner:"footable-row-detail-inner",detailInnerRow:"footable-row-detail-row",detailInnerGroup:"footable-row-detail-group",detailInnerName:"footable-row-detail-name",detailInnerValue:"footable-row-detail-value",detailShow:"footable-detail-show"},triggers:{initialize:"footable_initialize",resize:"footable_resize",redraw:"footable_redraw",toggleRow:"footable_toggle_row",expandFirstRow:"footable_expand_first_row",expandAll:"footable_expand_all",collapseAll:"footable_collapse_all"},events:{alreadyInitialized:"footable_already_initialized",initializing:"footable_initializing",initialized:"footable_initialized",resizing:"footable_resizing",resized:"footable_resized",redrawn:"footable_redrawn",breakpoint:"footable_breakpoint",columnData:"footable_column_data",rowDetailUpdating:"footable_row_detail_updating",rowDetailUpdated:"footable_row_detail_updated",rowCollapsed:"footable_row_collapsed",rowExpanded:"footable_row_expanded",rowRemoved:"footable_row_removed",reset:"footable_reset"},debug:!1,log:null},version:{major:0,minor:5,toString:function(){return i.footable.version.major+"."+i.footable.version.minor},parse:function(e){return version=/(\d+)\.?(\d+)?\.?(\d+)?/.exec(e),{major:parseInt(version[1],10)||0,minor:parseInt(version[2],10)||0,patch:parseInt(version[3],10)||0}}},plugins:{_validate:function(e){if(!m.isFunction(e))return!0===i.footable.options.debug&&console.error('Validation failed, expected type "function", received type "{0}".',typeof e),!1;var t=new e;return"string"!=typeof t.name?(!0===i.footable.options.debug&&console.error('Validation failed, plugin does not implement a string property called "name".',t),!1):m.isFunction(t.init)?(!0===i.footable.options.debug&&console.log('Validation succeeded for plugin "'+t.name+'".',t),!0):(!0===i.footable.options.debug&&console.error('Validation failed, plugin "'+t.name+'" does not implement a function called "init".',t),!1)},registered:[],register:function(e,t){i.footable.plugins._validate(e)&&(i.footable.plugins.registered.push(e),"object"==typeof t&&m.extend(!0,i.footable.options,t))},load:function(e){var t,a,o=[];for(a=0;a<i.footable.plugins.registered.length;a++)try{t=i.footable.plugins.registered[a],o.push(new t(e))}catch(e){!0===i.footable.options.debug&&console.error(e)}return o},init:function(e){for(var t=0;t<e.plugins.length;t++)try{e.plugins[t].init(e)}catch(e){!0===i.footable.options.debug&&console.error(e)}}}};var a=0;function o(){var a=this;a.id=null,a.busy=!1,a.start=function(e,t){a.busy||(a.stop(),a.id=setTimeout(function(){e(),a.id=null,a.busy=!1},t),a.busy=!0)},a.stop=function(){null!==a.id&&(clearTimeout(a.id),a.id=null,a.busy=!1)}}function n(e,t,a){var c=this;c.id=a,c.table=e,c.options=t,c.breakpoints=[],c.breakpointNames="",c.columns={},c.plugins=i.footable.plugins.load(c);var g=c.options,s=g.classes,b=g.events,u=g.triggers,h=0;return c.timers={resize:new o,register:function(e){return c.timers[e]=new o,c.timers[e]}},c.init=function(){var e=m(i),t=m(c.table);if(i.footable.plugins.init(c),t.hasClass(s.loaded))c.raise(b.alreadyInitialized);else{for(var a in c.raise(b.initializing),t.addClass(s.loading),t.find(g.columnDataSelector).each(function(){var e=c.getColumnData(this);c.columns[e.index]=e}),g.breakpoints)c.breakpoints.push({name:a,width:g.breakpoints[a]}),c.breakpointNames+=a+" ";c.breakpoints.sort(function(e,t){return e.width-t.width}),t.unbind(u.initialize).bind(u.initialize,function(){t.removeData("footable_info"),t.data("breakpoint",""),t.trigger(u.resize),t.removeClass(s.loading),t.addClass(s.loaded).addClass(s.main),c.raise(b.initialized)}).unbind(u.redraw).bind(u.redraw,function(){c.redraw()}).unbind(u.resize).bind(u.resize,function(){c.resize()}).unbind(u.expandFirstRow).bind(u.expandFirstRow,function(){t.find(g.toggleSelector).first().not("."+s.detailShow).trigger(u.toggleRow)}).unbind(u.expandAll).bind(u.expandAll,function(){t.find(g.toggleSelector).not("."+s.detailShow).trigger(u.toggleRow)}).unbind(u.collapseAll).bind(u.collapseAll,function(){t.find("."+s.detailShow).trigger(u.toggleRow)}),t.trigger(u.initialize),e.bind("resize.footable",function(){c.timers.resize.stop(),c.timers.resize.start(function(){c.raise(u.resize)},g.delay)})}},c.addRowToggle=function(){if(g.addRowToggle){var e=m(c.table),t=!1;for(var a in e.find("span."+s.toggle).remove(),c.columns){var o=c.columns[a];if(o.toggle){t=!0;var i="> tbody > tr:not(."+s.detail+",."+s.disabled+") > td:nth-child("+(parseInt(o.index,10)+1)+")";return void e.find(i).not("."+s.detailCell).prepend(m(g.toggleHTMLElement).addClass(s.toggle))}}t||e.find("> tbody > tr:not(."+s.detail+",."+s.disabled+") > td:first-child").not("."+s.detailCell).prepend(m(g.toggleHTMLElement).addClass(s.toggle))}},c.setColumnClasses=function(){for(var e in $table=m(c.table),c.columns){var t=c.columns[e];if(null!==t.className){var a="",o=!0;m.each(t.matches,function(e,t){o||(a+=", "),a+="> tbody > tr:not(."+s.detail+") > td:nth-child("+(parseInt(t,10)+1)+")",o=!1}),$table.find(a).not("."+s.detailCell).addClass(t.className)}}},c.bindToggleSelectors=function(){var t=m(c.table);c.hasAnyBreakpointColumn()&&(t.find(g.toggleSelector).unbind(u.toggleRow).bind(u.toggleRow,function(e){var t=m(this).is("tr")?m(this):m(this).parents("tr:first");c.toggleDetail(t)}),t.find(g.toggleSelector).unbind("click.footable").bind("click.footable",function(e){t.is(".breakpoint")&&m(e.target).is("td,."+s.toggle)&&m(this).trigger(u.toggleRow)}))},c.parse=function(e,t){return(g.parsers[t.type]||g.parsers.alpha)(e)},c.getColumnData=function(e){var t=m(e),a=t.data("hide"),o=t.index();a=a||"",a=jQuery.map(a.split(","),function(e){return jQuery.trim(e)});var i={index:o,hide:{},type:t.data("type")||"alpha",name:t.data("name")||m.trim(t.text()),ignore:t.data("ignore")||!1,toggle:t.data("toggle")||!1,className:t.data("class")||null,matches:[],names:{},group:t.data("group")||null,groupName:null};if(null!==i.group){var n=m(c.table).find('> thead > tr.footable-group-row > th[data-group="'+i.group+'"], > thead > tr.footable-group-row > td[data-group="'+i.group+'"]').first();i.groupName=c.parse(n,{type:"alpha"})}var r=parseInt(t.prev().attr("colspan")||0,10);h+=1<r?r-1:0;var l=parseInt(t.attr("colspan")||0,10),d=i.index+h;if(1<l){var s=t.data("names");s=(s=s||"").split(",");for(var u=0;u<l;u++)i.matches.push(u+d),u<s.length&&(i.names[u+d]=s[u])}else i.matches.push(d);i.hide.default="all"===t.data("hide")||0<=m.inArray("default",a);var f=!1;for(var p in g.breakpoints)i.hide[p]="all"===t.data("hide")||0<=m.inArray(p,a),f=f||i.hide[p];return i.hasBreakpoint=f,c.raise(b.columnData,{column:{data:i,th:e}}).column.data},c.getViewportWidth=function(){return window.innerWidth||(document.body?document.body.offsetWidth:0)},c.calculateWidth=function(e,t){return jQuery.isFunction(g.calculateWidthOverride)?g.calculateWidthOverride(e,t):(t.viewportWidth<t.width&&(t.width=t.viewportWidth),t.parentWidth<t.width&&(t.width=t.parentWidth),t)},c.hasBreakpointColumn=function(e){for(var t in c.columns)if(c.columns[t].hide[e]){if(c.columns[t].ignore)continue;return!0}return!1},c.hasAnyBreakpointColumn=function(){for(var e in c.columns)if(c.columns[e].hasBreakpoint)return!0;return!1},c.resize=function(){var e=m(c.table);if(e.is(":visible")&&c.hasAnyBreakpointColumn()){var t={width:e.width(),viewportWidth:c.getViewportWidth(),parentWidth:e.parent().width()};t=c.calculateWidth(e,t);var a=e.data("footable_info");if(e.data("footable_info",t),c.raise(b.resizing,{old:a,info:t}),!a||a&&a.width&&a.width!==t.width){for(var o,i=null,n=0;n<c.breakpoints.length;n++)if((o=c.breakpoints[n])&&o.width&&t.width<=o.width){i=o;break}var r=null===i?"default":i.name,l=c.hasBreakpointColumn(r),d=e.data("breakpoint");e.data("breakpoint",r).removeClass("default breakpoint").removeClass(c.breakpointNames).addClass(r+(l?" breakpoint":"")),r!==d&&(e.trigger(u.redraw),c.raise(b.breakpoint,{breakpoint:r,info:t}))}c.raise(b.resized,{old:a,info:t})}},c.redraw=function(){c.addRowToggle(),c.bindToggleSelectors(),c.setColumnClasses();var l=m(c.table),d=l.data("breakpoint"),t=c.hasBreakpointColumn(d);l.find("> tbody > tr:not(."+s.detail+")").data("detail_created",!1).end().find("> thead > tr:last-child > th").each(function(){var e=c.columns[m(this).index()],o="",i=!0;m.each(e.matches,function(e,t){i||(o+=", ");var a=t+1;o+="> tbody > tr:not(."+s.detail+") > td:nth-child("+a+")",o+=", > tfoot > tr:not(."+s.detail+") > td:nth-child("+a+")",o+=", > colgroup > col:nth-child("+a+")",i=!1}),o+=', > thead > tr[data-group-row="true"] > th[data-group="'+e.group+'"]';var t=l.find(o).add(this);if(""!==d&&(!1===e.hide[d]?t.addClass("footable-visible").show():t.removeClass("footable-visible").hide()),1===l.find("> thead > tr.footable-group-row").length){var a=l.find('> thead > tr:last-child > th[data-group="'+e.group+'"]:visible, > thead > tr:last-child > th[data-group="'+e.group+'"]:visible'),n=l.find('> thead > tr.footable-group-row > th[data-group="'+e.group+'"], > thead > tr.footable-group-row > td[data-group="'+e.group+'"]'),r=0;m.each(a,function(){r+=parseInt(m(this).attr("colspan")||1,10)}),0<r?n.attr("colspan",r).show():n.hide()}}).end().find("> tbody > tr."+s.detailShow).each(function(){c.createOrUpdateDetailRow(this)}),l.find("> tbody > tr."+s.detailShow+":visible").each(function(){var e=m(this).next();e.hasClass(s.detail)&&(t?e.show():e.hide())}),l.find("> thead > tr > th.footable-last-column, > tbody > tr > td.footable-last-column").removeClass("footable-last-column"),l.find("> thead > tr > th.footable-first-column, > tbody > tr > td.footable-first-column").removeClass("footable-first-column"),l.find("> thead > tr, > tbody > tr").find("> th.footable-visible:last, > td.footable-visible:last").addClass("footable-last-column").end().find("> th.footable-visible:first, > td.footable-visible:first").addClass("footable-first-column"),c.raise(b.redrawn)},c.toggleDetail=function(e){var t=e.jquery?e:m(e),a=t.next();t.hasClass(s.detailShow)?(t.removeClass(s.detailShow),a.hasClass(s.detail)&&a.hide(),c.raise(b.rowCollapsed,{row:t[0]})):(c.createOrUpdateDetailRow(t[0]),t.addClass(s.detailShow).next().show(),c.raise(b.rowExpanded,{row:t[0]}))},c.removeRow=function(e){var t=e.jquery?e:m(e);t.hasClass(s.detail)&&(t=t.prev());var a=t.next();!0===t.data("detail_created")&&a.remove(),t.remove(),c.raise(b.rowRemoved)},c.appendRow=function(e){var t=e.jquery?e:m(e);m(c.table).find("tbody").append(t),c.redraw()},c.getColumnFromTdIndex=function(e){var t=null;for(var a in c.columns)if(0<=m.inArray(e,c.columns[a].matches)){t=c.columns[a];break}return t},c.createOrUpdateDetailRow=function(e){var t,a=m(e),o=a.next(),i=[];if(!0===a.data("detail_created"))return!0;if(a.is(":hidden"))return!1;if(c.raise(b.rowDetailUpdating,{row:a,detail:o}),a.find("> td:hidden").each(function(){var e=m(this).index(),t=c.getColumnFromTdIndex(e),a=t.name;return!0===t.ignore||(e in t.names&&(a=t.names[e]),i.push({name:a,value:c.parse(this,t),display:m.trim(m(this).html()),group:t.group,groupName:t.groupName})),!0}),0===i.length)return!1;var n=a.find("> td:visible").length,r=o.hasClass(s.detail);return r||(o=m('<tr class="'+s.detail+'"><td class="'+s.detailCell+'"><div class="'+s.detailInner+'"></div></td></tr>'),a.after(o)),o.find("> td:first").attr("colspan",n),t=o.find("."+s.detailInner).empty(),g.createDetail(t,i,g.createGroupedDetail,g.detailSeparator,s),a.data("detail_created",!0),c.raise(b.rowDetailUpdated,{row:a,detail:o}),!r},c.raise=function(e,t){!0===c.options.debug&&m.isFunction(c.options.log)&&c.options.log(e,"event"),t=t||{};var a={ft:c};m.extend(!0,a,t);var o=m.Event(e,a);return o.ft||m.extend(!0,o,a),m(c.table).trigger(o),o},c.reset=function(){var e=m(c.table);e.removeData("footable_info").data("breakpoint","").removeClass(s.loading).removeClass(s.loaded),e.find(g.toggleSelector).unbind(u.toggleRow).unbind("click.footable"),e.find("> tbody > tr").removeClass(s.detailShow),e.find("> tbody > tr."+s.detail).remove(),c.raise(b.reset)},c.init(),c}m.fn.footable=function(e){e=e||{};var t=m.extend(!0,{},i.footable.options,e);return this.each(function(){var e=new n(this,t,++a);m(this).data("footable",e)})}}(jQuery,window);